on:
  pull_request:
    types: [opened]

jobs:
  tests:
    runs-on: ubuntu-18.04
    steps:
    - name: Printing labels
      id: printing_labels
      env:
        labels: ${{ github.event.pull_request.labels }}
        labels_json: ${{ toJson(github.event.pull_request.labels) }}
      run: |
        echo "$labels"
        echo "$labels_json"
    - name: Check E2E Google
      if: contains(github.event.pull_request.labels.*.name, 'e2e_google')
      uses: klaudioz/testing_github_actions@master
      with:
        function-name: 'e2e'
        cloud-name: 'google'
    - name: Check E2E Digital Ocean
      if: contains(github.event.pull_request.labels.*.name, 'e2e_digitalocean')
      uses: klaudioz/testing_github_actions@master
      with:
        function-name: 'e2e'
        cloud-name: 'do'

